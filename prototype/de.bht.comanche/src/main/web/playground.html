<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    
    <!-- import style sheet -->
    <link rel="stylesheet" type="text/css" media="screen" href="css/style.css">

    <!-- import javascript -->
    <script src="lib/angular.js"></script>
    <script type="text/javascript">
        angular.module("myApp", [])
            .controller("Ctrl", ["$scope", "$log", "$filter", function($scope, $log, $filter) {
                var DatePickerDate = function(jsDate) {
                    this.date = $filter('date')(jsDate, "yyyy-MM-dd");
                    this.time = $filter('date')(jsDate, "HH:mm");
                };

                DatePickerDate.prototype.toDate = function() {
                    return new Date(this.date + " " + this.time);
                };
                
                DatePickerDate.convertDates = function(dates) {
                    var _dates = [];
                    if (!dates) {
                        return _dates;
                    }
                    for (var i = 0; i < dates.length; i++) {
                        _dates.push(new DatePickerDate(dates[i]));
                    }
                    return _dates;
                };

                var _testDate = null;
                $scope.d1 = _testDate && new DatePickerDate(_testDate);
                $log.log($scope.d1);
                _testDate = undefined;
                $scope.d2 = _testDate && new DatePickerDate(_testDate);
                $log.log($scope.d2);
                _testDate = 0;
                $scope.d3 = _testDate && new DatePickerDate(_testDate);
                $log.log($scope.d3);
                _testDate = new Date();
                $scope.d4 = _testDate && new DatePickerDate(_testDate);
                $log.log($scope.d4);
                _testDate = 1;
                $scope.d5 = _testDate && new DatePickerDate(_testDate);
                $log.log($scope.d5);
                
                var _testDates = [1, new Date(), 123456789];
                $scope.d6 = DatePickerDate.convertDates(_testDates);
                $log.log($scope.d6);

            }]);
    </script>
    
</head>
<body ng-app="myApp" ng-controller="Ctrl">
    
    <!-- display errors here -->
    <pre id="error"></pre>
    
    d1: '{{ d1 }}' <br>
    d2: '{{ d2 }}' <br>
    d3: '{{ d3 }}' <br>
    d4: '{{ d4 }}' <br>
    d5: '{{ d5 }}' <br>
    d6: '{{ d6 }}' <br>

 
</body>
</html>
